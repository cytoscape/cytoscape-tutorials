<section>
<h1>Loading Omics Data</h1>
<p>Cytoscape supports the ability to link data to networks as node and edge attributes, enabling data-driven network visualization.  This tutorial describes how to load expression data from a spreadsheet, and how to link it to already loaded networks.</p>
    
<div class="footer" style="position: absolute; left: -5em; bottom: -4em; ">
<img class="plain" src="../assets/images/Cytoscape.png" style="height:70px;opacity:0.5"> 
<version>3.6.1</version>
    </div>
</section>

<section>
	<h3>Loading Network</h3>
		<div class="cybrowser">
			<ul>
				<li>Start Cytoscape and load the <i>galFiltered.sif</i> network.</li>
				<input type="button" class="btn btn-primary" onclick="cybrowser.executeCyCommand('network load url url=https://cytoscape.github.io/cytoscape-tutorials/protocols/data/galFiltered.sif');" value="Load network"/>
				<li>When the network first opens, the entire network may not visible because of the default zoom factor used. To see the whole network, we can use the <b>Fit Content</b> function.</li>
				<input type="button" class="btn btn-primary" onclick="cybrowser.executeCyCommand('view fit content');" value="Fit content"/>
                <li>By default, the "Prefuse Force Directed Layout" is applied to organize the layout of the nodes. The default layout may be changed under <b>Layout &rarr; Settings</b>.</li>
				</ul>
		</div>
		<div class="not-cybrowser">
			<ul>
                <li>Download the network <a href="https://cytoscape.github.io/cytoscape-tutorials/protocols/data/galFiltered.sif"><i>galFiltered.sif</i></a>. This sample file is also included with your Cytoscape installation directory, under <b>sampleData</b>.</li>
                <li>Start Cytoscape and load the network via <b>File &rarr; Import &rarr; Network &rarr; File....</b></li>				<li>When the network first opens, the entire network is not visible because of the default zoom factor used. To see the whole network, select <b>View &rarr; Fit Content</b>.</li>
                <li>By default, the "Prefuse Force Directed Layout" is applied to organize the layout of the nodes. The default layout may be changed under <b>Layout &rarr; Settings</b>.</li>
			</ul>
		</div>
		<aside class="notes" data-markdown>
		Add speaker notes here...
		</aside>
</section>

<section>
<h3>Loading Expression Data</h3>
<p>The data you are working with is from yeast, the genes <b>Gal1</b>, <b>Gal4</b>, and <b>Gal80</b> are all yeast transcription factors. Your expression experiments all involve some perturbation of these transcription factor genes.

<br /><br />Gal1, Gal4, and Gal80 are also represented in your interaction network, where they are labeled according to yeast locus tags: <b>Gal1 corresponds to YBR020W, Gal4 to YPL248C, and Gal80 to YML051W</b>.</p>

<aside class="notes" data-markdown>
Add speaker notes here...
</aside>
</section>

<section>
<ul>
	<li>Using a text editor, open the file <a href="https://cytoscape.github.io/cytoscape-tutorials/protocols/data/galExpData.csv"><i>galExpData.csv</i></a> to view the first few lines. This sample file is also included with your Cytoscape installation directory, under <b>sampleData</b>.</li>

	<pre>GENE,COMMON,gal1RGexp,gal4RGexp,gal80Rexp,gal1RGsig,gal4RGsig,gal80Rsig
YHR051W,COX6,-0.034,0.111,-0.304,3.75720e-01,1.56240e-02,7.91340e-06
YHR124W,NDT80,-0.090,0.007,-0.348,2.71460e-01,9.64330e-01,3.44760e-01
YKL181W,PRS1,-0.167,-0.233,0.112,6.27120e-03,7.89400e-04,1.44060e-01</pre>

	Note the following information about the file:<br /><br />
	<ul>
		<li>The first line consists of column labels.</li>
		<li>All columns are separated by a single comma character.</li>
		<li>The first column contains node names, and <b>must match the names of the nodes in your network exactly</b>!</li>
		<li>The second column contains common locus names. This column is optional, the data is not used by Cytoscape, but including this column makes the format consistent with the output of many analysis packages, and makes the file easier to read.</li>
		<li>The remaining columns contain experimental data, two columns per experiment (one for expression measurement and a second for corresponding significance value), and one line per node. In this case, there are three expression results per node.</li>
	</ul>
</ul>

<aside class="notes" data-markdown>
Add speaker notes here...
</aside>
</section>

<section>
<ul>
    <li>Load the <i>galExpData.csv</i> file under <b>File</b> menu, select <b>Import &rarr; Table &rarr; File....</b></li>
	<li>The default settings are usually correct, although you may need to change the "Key" column to indicate which column will be used to match with the network key column.</li>
    <div class="cybrowser">
        <input type="button" class="btn btn-primary" onclick="cybrowser.executeCyCommand('table import url url=http://nrnb.org/data/galExpData.csv firstRowAsColumnNames=true TargetNetworkList=galFiltered.sif keyColumnIndex=1 startLoadRow=2');" value="Load galFiltered data"/>
    </div>
    <br />
    <img plain src="modules/loading-omics-data/LoadGalExp3.png" style="width:60%">
</ul>

<aside class="notes" data-markdown>
Add speaker notes here...
</aside>
</section>

<section data-markdown>
	<p>Now you should see expression values listed in new columns in the <b>Node Table</b>:</p>
	<img plain src="modules/loading-omics-data/Galbrowse3.png" style="width:900px">

	<p>The <b>Table Panel</b> has the following features:
    <ul>
	<li>Select a node in the network and the table will update to show only the corresponding row.</li>
        <div class="cybrowser">
            <input type="button" class="btn btn-primary" onclick="cybrowser.executeCyCommand('network select nodeList=YKL012W');" value="Select node"/>
        </div>
	<li>You can limit the columns shown by clicking on the <b>Show Columns</b> button <img plain src="modules/loading-omics-data/Select3.png" style="height:20px"> and selecting columns.</li>
    </ul>
<aside class="notes" data-markdown>
Add speaker notes here...
</aside>
</section>
